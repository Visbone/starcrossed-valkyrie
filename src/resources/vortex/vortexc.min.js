!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VORTEX=t():e.VORTEX=t()}(window,function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class s{constructor(e){this.eventName=e,this.callbacks=[]}registerCallback(e){return this.callbacks.push(e)-1}unregisterCallback(e){e>-1&&this.callbacks.splice(e,1)}fire(...e){this.callbacks.slice(0).forEach(t=>{t(...e)})}}class r{constructor(){this.events={}}emit(e,...t){const n=this.events[e];n&&n.fire(...t)}on(e,t){let n=this.events[e];return n||(n=new s(e),this.events[e]=n),n.registerCallback(t)}once(e,t){var n=this.on(e,(...s)=>{t(...s),this.off(e,n)})}off(e,t){const n=this.events[e];n&&t>-1&&(n.unregisterCallback(t),0===n.callbacks.length&&delete this.events[e])}}var o,a,c=(o=function(){function e(e,t){return t||(t={}),t.event=e,t}var t,n;importScripts("https://cdn.jsdelivr.net/gh/kawanet/msgpack-lite/dist/msgpack.min.js"),onmessage=function(s){var r=s.data;switch(r.event){case"connect":(t=new WebSocket(`wss://${r.url}`)).binaryType="arraybuffer",t.onopen=()=>{postMessage(e("connect"))},t.onmessage=t=>{var s=msgpack.decode(new Uint8Array(t.data));n||(n=s[0],s.shift());var r={};if(s.length>0){var o=-1;do{!function e(t,n){var r=s[++o],a=s[++o],c=n[r];t[c.name]={};for(var i=0;i<a;){if(c.map.length>0){t[c.name]=[];for(var l=0;l<a;l++){var u={};for(var f of c.map)u[f]=s[++o];t[c.name].push(u),i++}return i}i+=e(t[c.name],c.categories)}return i}(r,n)}while(o<s.length-1)}postMessage(e("message",{data:r}))},t.onclose=()=>{postMessage(e("close"))};break;case"send":t.readyState==WebSocket.OPEN&&t.send(r.data);break;case"close":t.close()}}},a=new Blob(["("+o.toString()+")()"],{type:"application/javascript"}),URL.createObjectURL(a));function i(e,t){return t||(t={}),t.event=e,t}class l extends r{constructor(e){super();var t=new Worker(c);this.socket=t,t.postMessage(i("connect",{url:e})),t.onmessage=e=>{var t=e.data;switch(t.event){case"connect":this.emit("connect");break;case"message":this.emit("message",t.data);break;case"close":this.emit("close")}}}send(e){this.socket.postMessage(i("send",{data:e}))}close(){this.socket.postMessage(i("close"))}}n.d(t,"Client",function(){return l})}])});